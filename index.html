<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, interactive-widget=resizes-content">

    <!-- Primary Meta Tags -->
    <title>Agent Henrik — Global Luxury Travel Architect</title>
    <meta name="title" content="Agent Henrik — Global Luxury Travel Architect">
    <meta name="description" content="Transformative luxury journeys across the world's most compelling destinations. Underground culture, insider access, and storytelling experiences curated by Agent Henrik. From Tokyo to Beirut, Berlin to Rio.">
    <meta name="keywords" content="luxury travel, global experiences, cultural travel, underground luxury, yacht charters, corporate retreats, brand activations, cool hunting, storytelling encounters, bespoke travel">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://agenthhenrik.com/">

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://agenthhenrik.com/">
    <meta property="og:title" content="Agent Henrik — Global Luxury Travel Architect">
    <meta property="og:description" content="Transformative luxury journeys across the world's most compelling destinations. Underground culture, insider access, and storytelling experiences from Tokyo to Beirut, Berlin to Rio.">
    <meta property="og:image" content="https://agenthhenrik.com/og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="Agent Henrik">
    <meta property="og:locale" content="en_US">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://agenthhenrik.com/">
    <meta name="twitter:title" content="Agent Henrik — Global Luxury Travel Architect">
    <meta name="twitter:description" content="Transformative luxury journeys across the world's most compelling destinations. Underground culture, insider access, and storytelling experiences.">
    <meta name="twitter:image" content="https://agenthhenrik.com/twitter-image.jpg">

    <!-- Preconnect to external domains for performance -->
    <link rel="preconnect" href="https://unpkg.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="preconnect" href="https://fjnfsabvuiyzuzfhxzcc.supabase.co" crossorigin>
    <link rel="dns-prefetch" href="https://unpkg.com">
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">

    <!-- Preload critical hero video -->
    <link rel="preload" href="https://api.chilledsites.com/storage/v1/object/public/p0stman/agent-henrik_video_3.mp4" as="video" type="video/mp4">

    <!-- Lucide Icons - loaded in head so it's available when scripts.js runs -->
    <script defer src="https://unpkg.com/lucide@0.344.0/dist/umd/lucide.min.js"></script>

    <!-- Leaflet (Free OpenStreetMap) -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <!-- External Stylesheet -->
    <link rel="stylesheet" href="styles.css?v=1738502400">

    <!-- Component Loader - Load shared header/footer -->
    <script src="component-loader.js"></script>
    <style>
        /* FIX: Prevent image layout shift and flickering */
        .pillar-media,
        .story-media {
            background: #0a0c0e;
            will-change: auto;
        }

        .pillar-media img,
        .story-media img {
            transform: none !important;
            filter: none !important;
            transition: none !important;
            will-change: auto !important;
            content-visibility: auto;
            image-rendering: auto;
        }

        .path-card::before {
            transform: none !important;
            filter: none !important;
            transition: none !important;
            will-change: auto;
        }

        .pillar-card,
        .story-card,
        .path-card {
            transform: none !important;
            will-change: auto;
        }

        .pillar-card:hover,
        .story-card:hover,
        .path-card:hover {
            transform: none !important;
        }

        .pillar-card:hover .pillar-media img,
        .story-card:hover .story-media img,
        .path-card:hover::before {
            transform: none !important;
            filter: none !important;
        }

        /* Force GPU to cache images */
        .pillar-media img,
        .story-media img {
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
        }
    </style>

    <!-- Structured Data (Schema.org) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "TravelAgency",
      "name": "Agent Henrik",
      "description": "Global luxury travel architect specializing in transformative journeys. We curate exclusive cultural experiences, underground access, and storytelling encounters across the world's most compelling destinations.",
      "url": "https://agenthhenrik.com",
      "logo": "https://agenthhenrik.com/AHT_White.png",
      "image": "https://agenthhenrik.com/og-image.jpg",
      "telephone": "+XX-XXX-XXX-XXX",
      "address": {
        "@type": "PostalAddress",
        "addressCountry": "GLOBAL",
        "addressLocality": "Worldwide"
      },
      "sameAs": [
        "https://www.instagram.com/agenthhenrik/",
        "https://facebook.com/agenthhenrik"
      ],
      "priceRange": "$$$$",
      "areaServed": "Worldwide",
      "hasOfferCatalog": {
        "@type": "OfferCatalog",
        "name": "Global Luxury Travel Experiences",
        "itemListElement": [
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Underground Luxury Journeys",
              "description": "Exclusive access to hidden speakeasies, secret parties, and underground cultural experiences across global cities"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Lifestyle & Culture Tours",
              "description": "Immersive journeys through local culture: Michelin kitchens, underground galleries, designer studios, and authentic nightlife"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Sea Holidays & Yacht Charters",
              "description": "Mediterranean sailing adventures, private charters, and coastal experiences beyond standard itineraries"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Corporate & Brand Experiences",
              "description": "Innovation retreats, trend-scouting expeditions, brand activations, and transformative corporate journeys"
            }
          }
        ]
      }
    }
    </script>
</head>
<body>
    <!-- Header loaded from /components/header.html -->
    <div id="header-placeholder"></div>

    <div class="hero" id="top">
        <!-- Hero Video Background -->
        <video class="hero-video" autoplay muted playsinline id="heroVideo">
            <source src="https://api.chilledsites.com/storage/v1/object/public/p0stman/agent-henrik_video_3.mp4" type="video/mp4">
        </video>
        <div class="hero-overlay"></div>

        <div class="hero-content" id="heroContent" style="opacity: 0; transition: opacity 1.5s ease-in;">
            <h1 class="hero-title">
                <span class="line" data-editable="hero.headline.line1">The World, Curated</span>
                <span class="line" data-editable="hero.headline.line2">Transformative by Design</span>
            </h1>
        </div>

        <div class="hero-actions" style="opacity: 0; transition: opacity 1.5s ease-in;">
            <a href="#map" class="hero-cta" data-editable="hero.cta.explore">EXPLORE DESTINATIONS</a>
            <button type="button" class="hero-cta" data-open-liv data-liv-context-type="general" data-liv-context-name="Hero" data-editable="hero.cta.design">EXPLORE WITH AGENT HENRIK</button>
            <a href="#journeys" class="hero-cta" data-editable="hero.cta.enter">DISCOVER EXPERIENCES</a>
        </div>
    </div>

    <main class="site-main" id="choose-path">
        <section class="section map-section">
            <div class="section-inner">
                <div class="section-heading">
                    <span class="eyebrow" data-editable="map.eyebrow">Global Destinations</span>
                    <h2 data-editable="map.headline" style="white-space: nowrap;">Where will Agent Henrik take you</h2>
                    <p data-editable="map.description">Tap a destination to explore a region, city, or cultural hotspot. From Tokyo's neon alleys to Beirut's rooftops, Berlin's underground to the Croatian coast, each pin opens the gateway to transformative experiences curated by Agent Henrik.</p>
                </div>

                <!-- Region Filters -->
                <div class="region-filters" id="regionFilters">
                    <!-- Buttons dynamically inserted by JS -->
                </div>

                <!-- Map Filters -->
                <div class="map-controls">
                    <div class="service-filters" id="serviceFilters">
                        <button type="button" class="filter-btn active" data-service="underground">Underground Luxury</button>
                        <button type="button" class="filter-btn active" data-service="lifestyle">Lifestyle & Culture</button>
                        <button type="button" class="filter-btn active" data-service="yacht">Yacht & Sailing</button>
                        <button type="button" class="filter-btn active" data-service="brand">Brand Experiences</button>
                        <button type="button" class="filter-btn active" data-service="cool-hunting">Cool Hunting</button>
                        <button type="button" class="filter-btn active" data-service="storytelling">Storytelling</button>
                        <button type="button" class="filter-btn active" data-service="corporate">Corporate</button>
                        <button type="button" class="filter-btn active" data-service="all" id="serviceToggleAll">All Services</button>
                    </div>
                </div>

                <!-- Interactive Map -->
                <div class="map-wrapper">
                    <div id="map" class="interactive-map-container"></div>

                    <!-- Loading Indicator -->
                    <div id="mapLoadingIndicator" class="map-loading" style="display: flex;">
                        <div class="spinner"></div>
                        <p data-editable="map.loading_text">Loading destinations from database...</p>
                    </div>

                    <!-- Map Overlay Card -->
                    <div class="map-overlay-card" id="mapOverlayCard" style="display: none;">
                        <button class="map-card-close" id="mapCardClose" aria-label="Close destination card">×</button>
                        <div class="map-card-image">
                            <img src="" alt="" id="mapCardImage">
                        </div>
                        <div class="map-card-content">
                            <h3 class="map-card-title" id="mapCardTitle"></h3>
                            <p class="map-card-description" id="mapCardDescription"></p>
                            <div class="map-card-themes" id="mapCardThemes"></div>
                            <div class="map-card-seasons" id="mapCardSeasons"></div>
                            <button type="button" class="map-card-cta" data-open-liv data-editable="map.card.cta">Explore with Agent Henrik</button>
                        </div>
                    </div>
                </div>

                <!-- Destination Cards Grid -->
                <div class="destination-cards-grid" id="destinationCardsGrid"></div>
            </div>
        </section>

        <section class="section" id="journeys">
            <div class="section-inner">
                <div class="section-heading">
                    <span class="eyebrow" data-editable="pillars.eyebrow">Experiences</span>
                    <h2 data-editable="pillars.headline">Seven services that transform travel</h2>
                    <p data-editable="pillars.description">For discerning travelers who seek more than destinations — who want to access the world's cultural vanguard. Our journeys are transformative narratives, curated with insider access, editorial storytelling, and uncompromising luxury.</p>
                </div>
                <div class="pillars-grid">
                    <!-- Pillars loaded dynamically from CMS by scripts.js -->
                </div>
            </div>
        </section>

        <section class="section" id="corporate">
            <div class="section-inner">
                <div class="dual-columns">
                    <div class="headline-block">
                        <span class="eyebrow">For Brands & Groups</span>
                        <h2>Cultural activations that inspire</h2>
                        <p>Innovation retreats in Seoul, trend-scouting in Mexico City, brand activations in Berlin's underground. We design corporate journeys that reward, engage, and inspire through experiences no traditional DMC can offer.</p>
                        <div class="cta-group" style="margin-top:2rem;">
                            <a href="/corporate.html" class="primary">Explore Corporate Services</a>
                            <a href="#contact">Request Consultation</a>
                        </div>
                    </div>
                    <div class="accent-card">
                        <h4 style="font-family: var(--font-serif); font-size: 1.4rem; margin-bottom:1rem;">Services for Organizations</h4>
                        <ul>
                            <li><span>Innovation Retreats</span><span>Seoul startup founders, Berlin design studios, Stockholm innovation labs</span></li>
                            <li><span>Trend-Scouting</span><span>Mexico City markets, Tokyo underground, Beirut art scene</span></li>
                            <li><span>Brand Activations</span><span>Underground club launches, hidden speakeasy experiences</span></li>
                            <li><span>Incentive Journeys</span><span>Mediterranean yacht charters, exclusive cultural access</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section class="section" id="storytellers">
            <div class="section-inner">
                <div class="section-heading">
                    <span class="eyebrow" data-editable="stories.eyebrow">Featured Storytellers</span>
                    <h2 data-editable="stories.headline">Experience Sweden Beyond the Ordinary</h2>
                    <p data-editable="stories.description">Led by local storytellers — from Sami elders and Michelin chefs to artists, designers, and innovators — each encounter offers an authentic glimpse into Swedish life, culture, and creativity. Whether you travel solo or with others, our curated experiences, workshops, and destinations promise meaningful connections and stories that stay with you long after the journey ends.</p>
                    <br />
                    <p data-editable="stories.subheadline">You need inspiration? Take a peek at our curated selection of storytellers, destinations, workshops, and businesses for eventful, meaningful trips.</p>
                </div>

                <div class="pillars-grid">
                    <!-- Storytellers loaded dynamically from CMS by scripts.js -->
                </div>

                <div style="text-align: center; margin-top: 3rem;">
                    <a href="/storytellers/" class="story-cta-view-all" data-editable="storytellers.see_all">SEE ALL STORYTELLERS</a>
                </div>
            </div>
        </section>

        <section class="section" id="concierge">
            <div class="section-inner">
                <div class="dual-columns">
                    <div class="headline-block">
                        <span class="eyebrow">AI Concierge</span>
                        <h3>Your journey begins with Agent Henrik</h3>
                        <p>An AI-powered cultural curator embedded across the experience. Agent Henrik initiates your dialogue, sketches the first draft of your itinerary, and invites you to pass the narrative to our human curators for refinement.</p>
                        <div class="cta-group" style="margin-top:2rem;">
                            <a href="#" class="primary" data-open-liv>Start Conversation</a>
                            <a href="#contact">Talk to a human curator</a>
                        </div>
                    </div>
                    <div class="accent-card liv-experience-card">
                        <h4 style="font-family: var(--font-serif); font-size: 1.4rem; margin-bottom:1rem;">How Agent Henrik Works</h4>
                        <p style="font-style: italic; margin-bottom: 1.5rem; color: rgba(255,255,255,0.85);">"Tell me your vision—underground Tokyo, Beirut rooftops, Mediterranean sailing—and I'll compose your opening itinerary in moments."</p>
                        <ul>
                            <li><span>Global Curation</span><span>Agent Henrik weaves your preferences into narrative itineraries across six continents.</span></li>
                            <li><span>Instant Drafts</span><span>Receive a tailored itinerary preview within seconds, ready to refine or approve.</span></li>
                            <li><span>Seamless Handoff</span><span>Pass your draft to our human curators who add insider access and bespoke touches.</span></li>
                            <li><span>24-Hour Response</span><span>From first conversation to confirmed itinerary, we move at your pace.</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!--section class="section" id="sustainability">
            <div class="section-inner">
                <div class="dual-columns">
                    <div class="headline-block">
                        <span class="eyebrow">Sustainability &amp; Innovation</span>
                        <h3>Progressive luxury grounded in stewardship.</h3>
                        <p>We partner with regenerative destinations, future-food pioneers, and climate innovators to ensure every journey leaves a meaningful legacy. Expect transparent sourcing, carbon tracking, and design decisions rooted in Nordic sustainability principles.</p>
                    </div>
                    <div class="accent-card" style="background: linear-gradient(135deg, rgba(17,25,34,0.9), rgba(43,60,86,0.85));">
                        <ul>
                            <li><span>Impact Labs</span>Meet the founders advancing green tech, circular fashion, and climate-positive architecture.</li>
                            <li><span>Regenerative Villas</span>Stay at properties restoring forests, coastlines, and cultural landmarks.</li>
                            <li><span>Innovation Briefings</span>Curated sessions with policymakers, scientists, and creative futurists.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section-->

        <section class="section" id="stories">
            <div class="section-inner">
                <div class="section-heading">
                    <span class="eyebrow" data-editable="journal.eyebrow">Journal</span>
                    <h2 data-editable="journal.headline">Editorial previews from the Journal.</h2>
                    <p data-editable="journal.description">Editorial previews from our latest scoops.</p>
                </div>
                <div class="stories-grid" id="journalGrid">
                    <!-- Blog posts loaded dynamically from CMS by scripts.js -->
                </div>

                <div style="text-align: center; margin-top: 3rem;">
                    <a href="/journal/" class="story-cta-view-all" data-editable="journal.see_all">SEE ALL JOURNAL POSTS</a>
                </div>
            </div>
        </section>

        <section class="section" id="press">
            <div class="section-inner">
                <div class="section-heading">
                    <span class="eyebrow" data-editable="press.eyebrow">Press &amp; Media</span>
                    <h2 data-editable="press.headline" style="white-space: nowrap;">What Media Says About Us</h2>
                    <p data-editable="press.description">Our work has been recognized by the world's leading voices in luxury and travel.</p>
                </div>

                <!-- Press Recognition Strip -->
                <div class="press-strip">
                    <p class="press-label">As featured in</p>
                    <div class="press-logos">
                        <img src="/images/press/nyt-logo.svg" alt="New York Times" class="press-logo">
                        <img src="/images/press/forbes-logo.svg" alt="Forbes" class="press-logo">
                        <img src="/images/press/conde-nast-logo.svg" alt="Condé Nast Traveler" class="press-logo">
                        <img src="/images/press/wallpaper-logo.svg" alt="Wallpaper*" class="press-logo">
                        <img src="/images/press/monocle-logo.svg" alt="Monocle" class="press-logo">
                        <img src="/images/press/guardian-logo.svg" alt="The Guardian" class="press-logo">
                    </div>
                </div>

                <div class="press-panels" id="pressPanelsContainer">
                    <!-- Press panels loaded dynamically from database -->
                </div>
            </div>
        </section>

        <!-- Instagram flow -->
        <section class="section" id="instagram">
            <div class="section-inner">
                <div class="section-heading">
                    <span class="eyebrow" data-editable="instagram.eyebrow">Follow Our Discoveries</span>
                    <h2 data-editable="instagram.headline">@AgentHenrik</h2>
                    <p data-editable="instagram.description"><a href="https://www.instagram.com/AgentHenrik/" target="_blank" rel="noopener noreferrer">Follow us on Instagram</a></p>
                </div>
                <div class="instagram-grid" id="instagramGrid">
                    <!-- Loading state -->
                    <div class="instagram-loading">
                        <div class="loading-spinner"></div>
                        <p>Loading Instagram posts...</p>
                    </div>
                </div>
            </div>
        </section>

        <style>
            .instagram-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 1.5rem;
                margin-top: 3rem;
            }

            .instagram-card {
                position: relative;
                aspect-ratio: 1;
                overflow: hidden;
                border-radius: 8px;
                cursor: pointer;
                transition: transform 0.3s ease;
            }

            .instagram-card:hover {
                transform: scale(1.02);
            }

            .instagram-card img {
                width: 100%;
                height: 100%;
                object-fit: cover;
                display: block;
            }

            .instagram-title {
                position: absolute;
                bottom: 0;
                left: 0;
                right: 0;
                background: rgba(0, 0, 0, 0.8);
                color: white;
                padding: 1rem;
                font-size: 1rem;
                font-weight: 500;
                opacity: 0;
                transition: opacity 0.3s ease;
                pointer-events: none;
            }

            .instagram-card:hover .instagram-title {
                opacity: 1;
            }

            .instagram-loading {
                grid-column: 1 / -1;
                text-align: center;
                padding: 3rem 1rem;
                color: rgba(255, 255, 255, 0.6);
            }

            .loading-spinner {
                border: 3px solid rgba(255, 255, 255, 0.1);
                border-top: 3px solid #fff;
                border-radius: 50%;
                width: 40px;
                height: 40px;
                animation: spin 1s linear infinite;
                margin: 0 auto 1rem;
            }

            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }

            @media (max-width: 768px) {
                .instagram-grid {
                    grid-template-columns: repeat(2, 1fr);
                    gap: 1rem;
                }
            }

            @media (max-width: 480px) {
                .instagram-grid {
                    grid-template-columns: 1fr;
                }
            }
        </style>

        <script>
            // Load Instagram posts
            async function loadInstagramPosts() {
                const grid = document.getElementById('instagramGrid');

                try {
                    const response = await fetch('https://fjnfsabvuiyzuzfhxzcc.supabase.co/functions/v1/fetch-instagram', {
                        headers: {
                            'Content-Type': 'application/json',
                        }
                    });

                    const data = await response.json();

                    if (data.error) {
                        // Show fallback message
                        grid.innerHTML = '<div class="instagram-loading"><p>Follow us on Instagram for the latest updates!</p></div>';
                        return;
                    }

                    const posts = data.posts || [];

                    if (posts.length === 0) {
                        grid.innerHTML = '<div class="instagram-loading"><p>No posts available yet. Follow us on Instagram!</p></div>';
                        return;
                    }

                    // Render posts
                    grid.innerHTML = posts.map(post => {
                        const caption = post.caption || '';
                        const title = caption.split('\\n')[0].substring(0, 50) + (caption.length > 50 ? '...' : '');

                        return `
                            <a href="${post.permalink}" target="_blank" rel="noopener noreferrer" class="instagram-card">
                                <img src="${post.media_url}" alt="${title}" loading="lazy">
                                <div class="instagram-title">${title || 'View on Instagram'}</div>
                            </a>
                        `;
                    }).join('');

                } catch (error) {
                    console.error('Error loading Instagram posts:', error);
                    grid.innerHTML = '<div class="instagram-loading"><p>Follow us on Instagram for the latest updates!</p></div>';
                }
            }

            // Load when page is ready
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', loadInstagramPosts);
            } else {
                loadInstagramPosts();
            }
        </script>

        <section class="section" id="contact">
            <div class="section-inner">
                <div class="dual-columns">
                    <div class="headline-block">
                        <span class="eyebrow" data-editable="contact.eyebrow">CONTACT</span>
                        <h3 data-editable="contact.headline">Ready to create your Swedish adventure?</h3>
                        <p data-editable="contact.description">Share your ambitions and we will reply within 24 hours with the next steps, schedule a call, or deliver a curated dossier. Every enquiry is handled by a personal curator, who will design a bespoke narrative just for you.</p>
                    </div>

                    <form class="enquiry-form" id="enquiryForm" novalidate>
                    <div class="form-grid">
                        <div class="form-field">
                            <label for="enquiryName" data-editable="contact.form.name_label">Name</label>
                            <input type="text" id="enquiryName" name="name" autocomplete="name" required placeholder="Your full name" data-editable-placeholder="contact.form.name_placeholder">
                        </div>
                        <div class="form-field">
                            <label for="enquiryEmail" data-editable="contact.form.email_label">Email</label>
                            <input type="email" id="enquiryEmail" name="email" autocomplete="email" required placeholder="name@example.com" data-editable-placeholder="contact.form.email_placeholder">
                        </div>
                        <div class="form-field">
                            <label for="enquiryPhone" data-editable="contact.form.phone_label">Phone / WhatsApp</label>
                            <input type="tel" id="enquiryPhone" name="phone" autocomplete="tel" placeholder="Optional contact number" data-editable-placeholder="contact.form.phone_placeholder">
                        </div>
                        <div class="form-field">
                            <label for="enquiryTripType" data-editable="contact.form.triptype_label">Trip Type</label>
                            <select id="enquiryTripType" name="tripType">
                                <option value="" selected data-editable="contact.form.triptype_select">Select</option>
                                <option value="FIT" data-editable="contact.form.triptype_fit">Private Journey (FIT)</option>
                                <option value="Corporate" data-editable="contact.form.triptype_corporate">Incentives &amp; Activities</option>
                            </select>
                        </div>
                        <div class="form-field">
                            <label for="enquiryPeople" data-editable="contact.form.people_label">Number of people</label>
                            <input type="number" id="enquiryPeople" name="people" min="1" placeholder="e.g., 2" data-editable-placeholder="contact.form.people_placeholder">
                        </div>
                        <div class="form-field">
                            <label for="enquiryBudget" data-editable="contact.form.budget_label">Budget *</label>
                            <input type="text" id="enquiryBudget" name="budget" placeholder="Optional" data-editable-placeholder="contact.form.budget_placeholder">
                        </div>
                        <div class="form-field full">
                            <label for="enquiryDates" data-editable="contact.form.dates_label">Ideal Dates &amp; Duration</label>
                            <input type="text" id="enquiryDates" name="dates" placeholder="e.g., 7 nights in February 2026" data-editable-placeholder="contact.form.dates_placeholder">
                        </div>
                        <div class="form-field full">
                            <label for="enquiryDetails" data-editable="contact.form.details_label">Tell us about your ambitions</label>
                            <textarea id="enquiryDetails" name="details" placeholder="Themes, destinations, special access, or highlights to include." data-editable-placeholder="contact.form.details_placeholder"></textarea>
                        </div>
                    </div>

                    <input type="hidden" id="itineraryDraftField" name="itineraryDraft">
                    <input type="hidden" id="enquirySourceField" name="source" value="Direct">

                        <div class="form-actions">
                            <button type="submit" data-editable="contact.form.submit">Submit Enquiry</button>
                            <p class="form-status" id="enquiryStatus" role="status"></p>
                        </div>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer loaded from /components/footer.html -->
    <div id="footer-placeholder"></div>

    <!-- Chat Overlay -->
    <div class="chat-overlay" id="chatOverlay">
        <div class="chat-container">
            <button class="close-chat" id="closeChat">×</button>
            <div class="chat-header">
                <h2 class="chat-title">Agent Henrik</h2>
                <p class="chat-subtitle">Your Global Luxury Travel Architect</p>
            </div>
            <div class="chat-messages" id="chatMessages">
                <div class="chat-message ai">
                    <p>Welcome. I'm Agent Henrik — Your Global Luxury Travel Architect. Are you dreaming of silent forests, royal castles, wild parties, or encounters with innovators?</p>
                </div>
            </div>
            <div class="chat-input-container">
                <input type="text" class="chat-input" id="chatInput" placeholder="Share your travel desires...">
                <button class="send-button" id="sendButton">Send</button>
            </div>
        </div>
    </div>

    <!-- External JavaScript -->
    <script defer src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- Supabase JS Client -->
    <script defer src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <!-- Our Supabase Client Wrapper (loads data automatically) -->
    <script defer src="supabase-client.js?v=6"></script>

    <!-- LIV AI - AI-Powered Chat Concierge -->
    <script defer src="liv-ai.js?v=9"></script>

    <!-- Main application scripts (uses data loaded by supabase-client.js) -->
    <script defer src="scripts.js?v=1761950335"></script>

    <!-- Menu Initialization - Simple, reliable menu system -->
    <script defer src="menu-init.js"></script>

    <!-- Inline Editor (allows authenticated clients to edit static content) -->
    <script defer src="inline-editor.js?v=3"></script>

    <!-- Service Worker Registration for Image Caching -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('Service Worker registered successfully:', registration.scope);

                        // Handle updates
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            console.log('Service Worker update found');

                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    console.log('New Service Worker available. Refresh to update.');
                                    // Auto-activate new service worker
                                    newWorker.postMessage({ type: 'SKIP_WAITING' });
                                }
                            });
                        });
                    })
                    .catch(error => {
                        console.log('Service Worker registration failed:', error);
                    });

                // Refresh page when new service worker takes control
                navigator.serviceWorker.addEventListener('controllerchange', () => {
                    console.log('Service Worker updated, reloading page...');
                    window.location.reload();
                });
            });
        }
    </script>

    <!-- LIV Concierge Button - Positioned at top of DOM hierarchy -->
    <div class="ai-concierge-wrapper">
        <button class="ai-concierge-btn" id="aiConciergeBtn" aria-label="Launch Agent Henrik" data-open-liv data-liv-context-type="general" data-liv-context-name="AI Concierge Button">
            ✦
        </button>
    </div>

    <!-- Pillar Modal -->
    <div id="pillarModal" class="pillar-modal" role="dialog" aria-modal="true" aria-labelledby="modal-title" style="display: none;">
        <div class="pillar-modal-overlay"></div>
        <div class="pillar-modal-container">
            <button type="button" class="pillar-modal-close" aria-label="Close modal">&times;</button>
            <div class="pillar-modal-content">
                <div class="pillar-modal-media">
                    <img id="modal-image" src="" alt="">
                </div>
                <div class="pillar-modal-body">
                    <h2 id="modal-title"></h2>
                    <div id="modal-description"></div>
                    <button type="button" class="pillar-cta" id="modal-cta" data-open-liv></button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
