<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, interactive-widget=resizes-content">

    <!-- Primary Meta Tags -->
    <title>Agent Henrik — Global Luxury Travel Architect</title>
    <meta name="title" content="Agent Henrik — Global Luxury Travel Architect">
    <meta name="description" content="Transformative luxury journeys across the world's most compelling destinations. Underground culture, insider access, and storytelling experiences curated by Agent Henrik. From Tokyo to Beirut, Berlin to Rio.">
    <meta name="keywords" content="luxury travel, global experiences, cultural travel, underground luxury, yacht charters, corporate retreats, brand activations, cool hunting, storytelling encounters, bespoke travel">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://agenthenrik.com/">

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="site.webmanifest">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://agenthenrik.com/">
    <meta property="og:title" content="Agent Henrik — Global Luxury Travel Architect">
    <meta property="og:description" content="Transformative luxury journeys across the world's most compelling destinations. Underground culture, insider access, and storytelling experiences.">
    <meta property="og:image" content="https://agenthenrik.com/og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="Agent Henrik">
    <meta property="og:locale" content="en_US">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://agenthenrik.com/">
    <meta name="twitter:title" content="Agent Henrik — Global Luxury Travel Architect">
    <meta name="twitter:description" content="Transformative luxury journeys across the world's most compelling destinations. Underground culture, insider access, and storytelling experiences.">
    <meta name="twitter:image" content="https://agenthenrik.com/twitter-image.jpg">

    <!-- Preconnect to external domains for performance -->
    <link rel="preconnect" href="https://unpkg.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="preconnect" href="https://fjnfsabvuiyzuzfhxzcc.supabase.co" crossorigin>
    <link rel="dns-prefetch" href="https://unpkg.com">
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">

    <!-- Preload critical hero video -->
    <link rel="preload" href="https://api.chilledsites.com/storage/v1/object/public/p0stman/agent-henrik_video_3.mp4" as="video" type="video/mp4">

    <!-- Lucide Icons - loaded in head so it's available when scripts.js runs -->
    <script defer src="https://unpkg.com/lucide@0.344.0/dist/umd/lucide.min.js"></script>

    <!-- Leaflet (Free OpenStreetMap) -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <!-- External Stylesheet -->
    <link rel="stylesheet" href="styles.css?v=1764710952">

    <!-- Component Loader - Load shared header/footer -->
    <script src="component-loader.js?v=1732877000"></script>

    <!-- Structured Data (Schema.org) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "TravelAgency",
      "name": "Agent Henrik",
      "description": "Global luxury travel architect specializing in transformative journeys. We curate exclusive cultural experiences, underground access, and storytelling encounters across the world's most compelling destinations.",
      "url": "https://agenthenrik.com",
      "logo": "https://agenthenrik.com/AHT_White.png",
      "image": "https://agenthenrik.com/og-image.jpg",
      "address": {
        "@type": "PostalAddress",
        "addressCountry": "GLOBAL",
        "addressLocality": "Worldwide"
      },
      "sameAs": [
        "https://www.instagram.com/agenthenrik/",
        "https://facebook.com/agenthenrik"
      ],
      "priceRange": "$$$$",
      "areaServed": "Worldwide",
      "hasOfferCatalog": {
        "@type": "OfferCatalog",
        "name": "Global Luxury Travel Experiences",
        "itemListElement": [
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Underground Luxury Journeys",
              "description": "Exclusive access to hidden speakeasies, secret parties, and underground cultural experiences across global cities"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Lifestyle & Culture Tours",
              "description": "Immersive journeys through local culture: Michelin kitchens, underground galleries, designer studios, and authentic nightlife"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Sea Holidays & Yacht Charters",
              "description": "Mediterranean sailing adventures, private charters, and coastal experiences beyond standard itineraries"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Corporate & Brand Experiences",
              "description": "Innovation retreats, trend-scouting expeditions, brand activations, and transformative corporate journeys"
            }
          }
        ]
      }
    }
    </script>
</head>
<body>
    <!-- Header loaded from /components/header.html -->
    <div id="header-placeholder"></div>

    <div class="hero" id="top">
        <!-- Hero Video Background -->
        <video class="hero-video" autoplay muted playsinline id="heroPrimaryVideo">
            <source src="https://api.chilledsites.com/storage/v1/object/public/p0stman/agent-henrik_video_3.mp4" type="video/mp4">
        </video>
        <div class="hero-overlay"></div>

        <!-- Skip intro button -->
        <button type="button" class="hero-skip-btn" id="heroSkipBtn">
            Skip Intro
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polygon points="5 4 15 12 5 20 5 4"/>
                <line x1="19" y1="5" x2="19" y2="19"/>
            </svg>
        </button>

        <div class="hero-content" id="heroContent">
            <h1 class="hero-title hero-title--destination">
                <span class="line" data-editable="hero.destination.prompt">Where do you want to go?</span>
                <span class="line hero-destination-select">
                    <div class="hero-dropdown-wrapper" id="heroDropdownWrapper">
                        <button type="button" class="hero-dropdown-trigger" id="heroDropdownTrigger">
                            <span class="hero-dropdown-text">Select a destination</span>
                            <svg class="hero-dropdown-arrow" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <polyline points="6,9 12,15 18,9"/>
                            </svg>
                        </button>
                        <div class="hero-dropdown-menu" id="heroDropdownMenu">
                            <div class="hero-dropdown-item hero-dropdown-item--special" data-value="random">
                                Take me anywhere
                            </div>
                            <div class="hero-dropdown-divider"></div>
                            <div class="hero-dropdown-list" id="heroDropdownList">
                                <!-- Destinations populated by JS -->
                            </div>
                        </div>
                    </div>
                </span>
            </h1>
        </div>

        <!-- Hero CTAs hidden for now
        <div class="hero-actions">
            <a href="#map" class="hero-cta" data-editable="hero.cta.explore">EXPLORE DESTINATIONS</a>
            <button type="button" class="hero-cta" data-open-liv data-liv-context-type="general" data-liv-context-name="Hero" data-context-key="hero-cta" data-editable="hero.cta.design">DESIGN MY JOURNEY WITH LIV</button>
            <a href="#journeys" class="hero-cta" data-editable="hero.cta.enter">ENTER THE EXPERIENCES</a>
        </div>
        -->
    </div>

    <!-- Full-screen Destination Modal -->
    <div class="destination-modal" id="destinationModal" style="display: none;">
        <button class="destination-modal-close" id="destinationModalClose" aria-label="Close">×</button>

        <!-- Full-screen background with Ken Burns effect (image) or video -->
        <div class="destination-modal-bg" id="destinationModalBg">
            <img src="" alt="" id="destinationModalImage" class="destination-modal-media">
            <video id="destinationModalVideo" class="destination-modal-media" muted playsinline style="display: none;"></video>
        </div>
        <div class="destination-modal-overlay"></div>

        <!-- Welcome text overlay -->
        <div class="destination-modal-welcome" id="destinationModalWelcome">
            <span class="destination-modal-eyebrow">Welcome to</span>
            <h2 class="destination-modal-title" id="destinationModalTitle"></h2>
            <p class="destination-modal-subtitle" id="destinationModalSubtitle"></p>
        </div>

        <!-- Sidebar toggle chevron (slides panel in/out) -->
        <button class="destination-modal-panel-toggle" id="destinationModalPanelToggle" aria-label="Toggle panel">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9,6 15,12 9,18"/>
            </svg>
        </button>

        <!-- Play button (visible when sidebar is collapsed) -->
        <button class="destination-modal-play-btn" id="destinationModalPlayBtn" aria-label="Play video">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                <polygon points="5,3 19,12 5,21"/>
            </svg>
        </button>

        <!-- Right content panel (desktop) / Bottom sheet (mobile) -->
        <div class="destination-modal-panel" id="destinationModalPanel">
            <!-- Destination Info View -->
            <div class="destination-modal-panel-content" id="destinationModalInfoView">
                <div class="destination-modal-panel-header">
                    <h3 id="destinationModalPanelTitle"></h3>
                    <div class="destination-modal-themes" id="destinationModalThemes"></div>
                    <div class="destination-modal-seasons" id="destinationModalSeasons"></div>
                </div>
                <div class="destination-modal-panel-body">
                    <p id="destinationModalDescription"></p>
                </div>
                <div class="destination-modal-panel-footer">
                    <button type="button" class="destination-modal-cta" id="destinationModalLivBtn">
                        Design With LIV
                    </button>
                    <div class="destination-modal-next">
                        <span class="destination-modal-next-label">Or explore another destination</span>
                        <div class="hero-dropdown-wrapper hero-dropdown-wrapper--panel" id="modalDropdownWrapper">
                            <button type="button" class="hero-dropdown-trigger hero-dropdown-trigger--panel" id="modalDropdownTrigger">
                                <span class="hero-dropdown-text">Choose another</span>
                                <svg class="hero-dropdown-arrow" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                    <polyline points="6,9 12,15 18,9"/>
                                </svg>
                            </button>
                            <div class="hero-dropdown-menu hero-dropdown-menu--panel hero-dropdown-menu--up" id="modalDropdownMenu">
                                <div class="hero-dropdown-item hero-dropdown-item--special" data-value="random">
                                    Take me anywhere
                                </div>
                                <div class="hero-dropdown-divider"></div>
                                <div class="hero-dropdown-list" id="modalDropdownList">
                                    <!-- Destinations populated by JS -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- LIV Chat View (hidden by default) -->
            <div class="destination-modal-chat-view" id="destinationModalChatView" style="display: none;">
                <div class="destination-modal-chat-header">
                    <button type="button" class="destination-modal-chat-back" id="destinationModalChatBack">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 12H5M12 19l-7-7 7-7"/>
                        </svg>
                        Back
                    </button>
                    <span class="destination-modal-chat-title">Chat with LIV</span>
                </div>
                <div class="destination-modal-chat-messages" id="destinationModalChatMessages">
                    <!-- Chat messages will be inserted here -->
                </div>
                <div class="destination-modal-chat-input-area">
                    <textarea id="destinationModalChatInput" placeholder="Ask LIV about this destination..." rows="1"></textarea>
                    <button type="button" class="destination-modal-chat-send" id="destinationModalChatSend">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <main class="site-main" id="choose-path">
        <section class="section map-section">
            <div class="section-inner">
                <div class="section-heading">
                    <span class="eyebrow" data-editable="map.eyebrow">Explore Sweden & Beyond</span>
                    <h2 data-editable="map.headline" style="white-space: nowrap;">Where will LIV take you</h2>
                    <p data-editable="map.description">Tap a destination to explore a region, city, place or hidden gem. Whether you're drawn to Stockholm's history, Lapland's auroras, or the archipelago's private islands, each pin opens the gateway to your journey with help of LIV.</p>
                </div>

                <!-- Map Layout: Filters Left, Map Right -->
                <div class="map-layout">
                    <!-- Left: Filters -->
                    <div class="map-controls">
                        <div class="map-controls-section">
                            <span class="map-controls-label">Season</span>
                            <div class="seasonal-toggle">
                                <button type="button" class="season-btn active" data-season="spring">Spring</button>
                                <button type="button" class="season-btn active" data-season="summer">Summer</button>
                                <button type="button" class="season-btn active" data-season="autumn">Autumn</button>
                                <button type="button" class="season-btn active" data-season="winter">Winter</button>
                                <button type="button" class="season-toggle-all active" id="seasonToggleAll">All On</button>
                            </div>
                        </div>
                        <div class="map-controls-section">
                            <span class="map-controls-label">Experience</span>
                            <div class="theme-filters">
                                <button type="button" class="filter-btn active" data-filter="nature" title="Nature & Wellness">Nature</button>
                                <button type="button" class="filter-btn active" data-filter="design" title="Design & Innovation">Design</button>
                                <button type="button" class="filter-btn active" data-filter="royal-culture" title="Royal, Art & Culture">Culture</button>
                                <button type="button" class="filter-btn active" data-filter="culinary" title="Culinary">Culinary</button>
                                <button type="button" class="filter-btn active" data-filter="nightlife" title="Nightlife & Celebrations">Nightlife</button>
                                <button type="button" class="filter-btn active" data-filter="legacy" title="Legacy & Purpose">Legacy</button>
                                <button type="button" class="filter-btn theme-toggle-all active" data-filter="all">All On</button>
                            </div>
                        </div>
                        <div class="map-controls-section">
                            <span class="map-controls-label">Type</span>
                            <div class="category-filters">
                                <button type="button" class="category-filter-btn active" data-category="province" title="Provinces">Provinces</button>
                                <button type="button" class="category-filter-btn active" data-category="city" title="Cities & towns">Cities</button>
                                <button type="button" class="category-filter-btn active" data-category="seaside" title="Seaside Towns">Seaside</button>
                                <button type="button" class="category-filter-btn active" data-category="beach" title="Beaches">Beaches</button>
                                <button type="button" class="category-filter-btn active" data-category="ski" title="Ski areas">Ski</button>
                                <button type="button" class="category-filter-btn active" data-category="park" title="National parks">Parks</button>
                                <button type="button" class="category-filter-btn active" data-category="storyteller" title="Storytellers">Storytellers</button>
                                <button type="button" class="category-toggle-all active" id="categoryToggleAll">All On</button>
                            </div>
                        </div>
                    </div>

                    <!-- Right: Map -->
                    <div class="map-wrapper" id="mapWrapper">
                        <div id="map" class="interactive-map-container"></div>

                        <!-- Loading Indicator -->
                        <div id="mapLoadingIndicator" class="map-loading" style="display: flex;">
                            <div class="spinner"></div>
                            <p data-editable="map.loading_text">Loading destinations from database...</p>
                        </div>

                        <!-- Map Overlay Card -->
                        <div class="map-overlay-card" id="mapOverlayCard" style="display: none;">
                            <button class="map-card-close" id="mapCardClose" aria-label="Close destination card">×</button>
                            <div class="map-card-image">
                                <img src="" alt="" id="mapCardImage">
                            </div>
                            <div class="map-card-content">
                                <h3 class="map-card-title" id="mapCardTitle"></h3>
                                <p class="map-card-description" id="mapCardDescription"></p>
                                <div class="map-card-themes" id="mapCardThemes"></div>
                                <div class="map-card-seasons" id="mapCardSeasons"></div>
                                <button type="button" class="map-card-read-more" id="mapCardReadMore" style="display: none;">read more</button>
                                <button type="button" class="map-card-fullscreen" id="mapCardFullscreen">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/>
                                    </svg>
                                    Full Experience
                                </button>
                                <button type="button" class="map-card-cta" data-open-liv data-editable="map.card.cta">Design With LIV</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Destination Cards Grid -->
                <div class="destination-cards-grid" id="destinationCardsGrid"></div>
            </div>
        </section>

        <section class="section" id="journeys">
            <div class="section-inner">
                <div class="section-heading">
                    <span class="eyebrow" data-editable="pillars.eyebrow">Experiences</span>
                    <h2 data-editable="pillars.headline">Six pillars to compose your narrative.</h2>
                    <p data-editable="pillars.description">For discerning travelers who want more than a holiday — who want to step into Sweden's soul. Our journeys are cinematic narratives, curated with exclusive access, emotional storytelling, and ultra-luxury comfort.</p>
                </div>
                <div class="pillars-grid">
                    <article class="pillar-card" data-pillar="nature">
                        <div class="pillar-media" aria-hidden="true">
                            <img src="https://fjnfsabvuiyzuzfhxzcc.supabase.co/storage/v1/object/public/pillar-images/nature-wellness.jpg?v1" alt="Aurora above a forested Swedish landscape" decoding="async">
                        </div>
                        <div class="pillar-body">
                            <div class="pillar-icon" aria-hidden="true"><i data-lucide="leaf"></i></div>
                            <div class="pillar-copy">
                                <h3 data-editable="pillars.nature.title">Nature &amp; Wellness</h3>
                                <p data-editable="pillars.nature.description">Disappear into silence and reconnect with yourself. Stay in glass igloos under the Northern
Lights, mirrored forest cabins, or private archipelago villas. Practice sauna rituals, forest
meditation, and guided digital detoxes. For those who seek more, Sweden's biohacking
pioneers and longevity experts curate programs blending nature with the science of
performance and wellbeing.</p>
                                <div class="card-buttons">
                                    <button type="button" class="read-more-btn" data-editable="pillars.nature.read_more">Read More</button>
                                    <button type="button" class="pillar-cta" data-open-liv data-liv-context-type="experience" data-liv-context-name="Nature & Wellness" data-pillar-slug="nature-wellness">Design With LIV</button>
                                </div>
                            </div>
                        </div>
                    </article>
                    <article class="pillar-card" data-pillar="design">
                        <div class="pillar-media" aria-hidden="true">
                            <img src="https://fjnfsabvuiyzuzfhxzcc.supabase.co/storage/v1/object/public/pillar-images/design-innovation.jpg?v1" alt="Creative team reviewing architectural concepts" decoding="async">
                        </div>
                        <div class="pillar-body">
                            <div class="pillar-icon" aria-hidden="true"><i data-lucide="cpu"></i></div>
                            <div class="pillar-copy">
                                <h3 data-editable="pillars.design.title">Design &amp; Innovation</h3>
                                <p data-editable="pillars.design.description">Stockholm is one of the world's unicorn capitals — a cradle of startups and cutting-edge
design. We open doors to private design studios, fashion ateliers, and sustainable innovation
labs. Meet the entrepreneurs behind global icons and enjoy one-on-one encounters with
Sweden's creatives and thinkers.</p>
                                <div class="card-buttons">
                                    <button type="button" class="read-more-btn" data-editable="pillars.design.read_more">Read More</button>
                                    <button type="button" class="pillar-cta" data-open-liv data-liv-context-type="experience" data-liv-context-name="Design & Innovation" data-pillar-slug="design-innovation">Design With LIV</button>
                                </div>
                            </div>
                        </div>
                    </article>
                    <article class="pillar-card" data-pillar="royal-culture">
                        <div class="pillar-media" aria-hidden="true">
                            <img src="https://fjnfsabvuiyzuzfhxzcc.supabase.co/storage/v1/object/public/pillar-images/royal-culture.jpg?v1" alt="Historic Swedish palace interior with art gallery" decoding="async">
                        </div>
                        <div class="pillar-body">
                            <div class="pillar-icon" aria-hidden="true"><i data-lucide="crown"></i></div>
                            <div class="pillar-copy">
                                <h3 data-editable="pillars.royal.title">Royal, Art &amp; Culture</h3>
                                <p data-editable="pillars.royal.description">Discover Sweden's refined blend of heritage and creativity. Explore private castles and royal
palaces after hours, then step into the world of contemporary art, design studios, and collector
salons. A journey where history, culture, and innovation meet in timeless Scandinavian style.</p>
                                <div class="card-buttons">
                                    <button type="button" class="read-more-btn" data-editable="pillars.royal.read_more">Read More</button>
                                    <button type="button" class="pillar-cta" data-open-liv data-liv-context-type="experience" data-liv-context-name="Royal, Art & Culture" data-pillar-slug="royal-culture">Design With LIV</button>
                                </div>
                            </div>
                        </div>
                    </article>
                    <article class="pillar-card" data-pillar="culinary">
                        <div class="pillar-media" aria-hidden="true">
                            <img src="https://fjnfsabvuiyzuzfhxzcc.supabase.co/storage/v1/object/public/pillar-images/culinary.jpg?v1" alt="Nordic chef plating an intimate tasting course" decoding="async">
                        </div>
                        <div class="pillar-body">
                            <div class="pillar-icon" aria-hidden="true"><i data-lucide="utensils-crossed"></i></div>
                            <div class="pillar-copy">
                                <h3 data-editable="pillars.culinary.title">Culinary Experiences</h3>
                                <p data-editable="pillars.culinary.description">Discover Sweden through its flavors. Join Michelin-trained chefs in hands-on cooking
sessions inspired by the seasons. Forage for wild herbs and mushrooms with local experts,
then dine in forest kitchens where nature sets the table. Enjoy gourmet food tours, private
tasting visits, and warm home dinners that open the door to authentic Swedish life. Hear Sami
stories and share traditional dishes around the fire — each meal a chapter of Sweden's land,
culture, and culinary heritage.</p>
                                <div class="card-buttons">
                                    <button type="button" class="read-more-btn" data-editable="pillars.culinary.read_more">Read More</button>
                                    <button type="button" class="pillar-cta" data-open-liv data-liv-context-type="experience" data-liv-context-name="Culinary Experiences" data-pillar-slug="culinary">Design With LIV</button>
                                </div>
                            </div>
                        </div>
                    </article>
                    <article class="pillar-card" data-pillar="nightlife">
                        <div class="pillar-media" aria-hidden="true">
                            <img src="https://fjnfsabvuiyzuzfhxzcc.supabase.co/storage/v1/object/public/pillar-images/nightlife.jpg?v1" alt="Vibrant Swedish nightlife scene with dynamic lighting" decoding="async">
                        </div>
                        <div class="pillar-body">
                            <div class="pillar-icon" aria-hidden="true"><i data-lucide="party-popper"></i></div>
                            <div class="pillar-copy">
                                <h3 data-editable="pillars.nightlife.title">Nightlife &amp; Celebration</h3>
                                <p data-editable="pillars.nightlife.description">Swedes know how to party — and we bring you inside their most exclusive scenes. Sip
champagne in members-only clubs, dance under the midnight sun at a private island
midsummer gala, or host your own soirée in a designer's loft. For the bold, rent out a mansion
and let us curate an unforgettable night with live acts, local creatives, and a guest list to
remember.</p>
                                <div class="card-buttons">
                                    <button type="button" class="read-more-btn" data-editable="pillars.nightlife.read_more">Read More</button>
                                    <button type="button" class="pillar-cta" data-open-liv data-liv-context-type="experience" data-liv-context-name="Nightlife & Celebration" data-pillar-slug="nightlife">Design With LIV</button>
                                </div>
                            </div>
                        </div>
                    </article>
                    <article class="pillar-card" data-pillar="legacy">
                        <div class="pillar-media" aria-hidden="true">
                            <img src="https://fjnfsabvuiyzuzfhxzcc.supabase.co/storage/v1/object/public/pillar-images/legacy.jpg?v1" alt="Family exploring a coastal Swedish village" decoding="async">
                        </div>
                        <div class="pillar-body">
                            <div class="pillar-icon" aria-hidden="true"><i data-lucide="globe-2"></i></div>
                            <div class="pillar-copy">
                                <h3 data-editable="pillars.legacy.title">Legacy &amp; Meaningful Travel</h3>
                                <p data-editable="pillars.legacy.description">Travel with purpose and perspective. Support Sami heritage projects, experience rewilding
initiatives, or participate in sustainable design collaborations. Every journey leaves a positive
footprint — giving back to the land, the culture, and the communities that make Sweden
unique.</p>
                                <div class="card-buttons">
                                    <button type="button" class="read-more-btn" data-editable="pillars.legacy.read_more">Read More</button>
                                    <button type="button" class="pillar-cta" data-open-liv data-liv-context-type="experience" data-liv-context-name="Legacy & Meaningful Travel" data-pillar-slug="legacy">Design With LIV</button>
                                </div>
                            </div>
                        </div>
                    </article>
                </div>
            </div>
        </section>

        <section class="section" id="corporate">
            <div class="section-inner">
                <div class="section-heading">
                    <span class="eyebrow" data-editable="corporate.eyebrow">Incentives & Activities</span>
                    <h2 data-editable="corporate.headline">Your team deserves more than a conference room</h2>
                    <p data-editable="corporate.description">Sweden is not only a destination — it is a stage for creativity, inspiration, and transformation. We design corporate journeys that reward, engage, and inspire through experiences no traditional DMC can offer.</p>
                </div>

                <div class="pillars-grid">
                    <article class="pillar-card" data-pillar="leadership">
                        <div class="pillar-media" aria-hidden="true">
                            <img src="https://fjnfsabvuiyzuzfhxzcc.supabase.co/storage/v1/object/public/pillar-images/leadership.jpg?v1" alt="Leadership retreat in Swedish nature" decoding="async">
                        </div>
                        <div class="pillar-body">
                            <div class="pillar-icon" aria-hidden="true"><i data-lucide="mountain"></i></div>
                            <div class="pillar-copy">
                                <h3 data-editable="corporate.leadership.title">Leadership Retreats</h3>
                                <p data-editable="corporate.leadership.description">Swap the boardroom for a castle, a mirrored forest lodge, or a private island villa. Executive retreats combine strategic focus with Swedish wellness: sauna rituals, guided silence, and outdoor adventure.</p>
                                <div class="card-buttons">
                                    <button type="button" class="read-more-btn" data-editable="corporate.leadership.read_more">Read More</button>
                                    <button type="button" class="pillar-cta" data-open-liv data-liv-context-type="corporate" data-liv-context-name="Leadership Retreats" data-corporate-slug="leadership-retreats">Design With LIV</button>
                                </div>
                            </div>
                        </div>
                    </article>

                    <article class="pillar-card" data-pillar="innovation">
                        <div class="pillar-media" aria-hidden="true">
                            <img src="https://fjnfsabvuiyzuzfhxzcc.supabase.co/storage/v1/object/public/pillar-images/innovation.jpg?v1" alt="Innovation and creativity workshops" decoding="async">
                        </div>
                        <div class="pillar-body">
                            <div class="pillar-icon" aria-hidden="true"><i data-lucide="lightbulb"></i></div>
                            <div class="pillar-copy">
                                <h3 data-editable="corporate.innovation.title">Innovation & Creativity</h3>
                                <p data-editable="corporate.innovation.description">Bring your team into Sweden's unicorn factory. Meet startup founders, green-tech pioneers, and design thinkers. Workshops woven into inspiring environments — from design studios to innovation labs.</p>
                                <div class="card-buttons">
                                    <button type="button" class="read-more-btn" data-editable="corporate.innovation.read_more">Read More</button>
                                    <button type="button" class="pillar-cta" data-open-liv data-liv-context-type="corporate" data-liv-context-name="Innovation & Creativity" data-corporate-slug="innovation-creativity">Design With LIV</button>
                                </div>
                            </div>
                        </div>
                    </article>

                    <article class="pillar-card" data-pillar="celebration">
                        <div class="pillar-media" aria-hidden="true">
                            <img src="https://fjnfsabvuiyzuzfhxzcc.supabase.co/storage/v1/object/public/pillar-images/celebration.jpg?v1" alt="Corporate celebration and gala events" decoding="async">
                        </div>
                        <div class="pillar-body">
                            <div class="pillar-icon" aria-hidden="true"><i data-lucide="sparkles"></i></div>
                            <div class="pillar-copy">
                                <h3 data-editable="corporate.celebration.title">Celebration & Recognition</h3>
                                <p data-editable="corporate.celebration.description">Business milestones deserve more than a ballroom. Celebrate with a Scandi White Party on a private island, a royal gala in a candlelit palace, or an Innovation Party Night with startup founders and Michelin catering.</p>
                                <div class="card-buttons">
                                    <button type="button" class="read-more-btn" data-editable="corporate.celebration.read_more">Read More</button>
                                    <button type="button" class="pillar-cta" data-open-liv data-liv-context-type="corporate" data-liv-context-name="Celebration & Recognition" data-corporate-slug="celebration-recognition">Design With LIV</button>
                                </div>
                            </div>
                        </div>
                    </article>

                    <article class="pillar-card" data-pillar="purpose">
                        <div class="pillar-media" aria-hidden="true">
                            <img src="https://fjnfsabvuiyzuzfhxzcc.supabase.co/storage/v1/object/public/pillar-images/purpose.jpg?v1" alt="Culture and purpose-driven experiences" decoding="async">
                        </div>
                        <div class="pillar-body">
                            <div class="pillar-icon" aria-hidden="true"><i data-lucide="heart"></i></div>
                            <div class="pillar-copy">
                                <h3 data-editable="corporate.purpose.title">Culture & Purpose</h3>
                                <p data-editable="corporate.purpose.description">Sweden's cultural and social legacy inspires transformation. Backstage access to Stockholm Fashion Week, private design fairs, or CSR narratives supporting Sami communities and eco-startups.</p>
                                <div class="card-buttons">
                                    <button type="button" class="read-more-btn" data-editable="corporate.purpose.read_more">Read More</button>
                                    <button type="button" class="pillar-cta" data-open-liv data-liv-context-type="corporate" data-liv-context-name="Culture & Purpose" data-corporate-slug="culture-purpose">Design With LIV</button>
                                </div>
                            </div>
                        </div>
                    </article>

                    <article class="pillar-card" data-pillar="wellness">
                        <div class="pillar-media" aria-hidden="true">
                            <img src="https://fjnfsabvuiyzuzfhxzcc.supabase.co/storage/v1/object/public/pillar-images/wellness-biohacking.jpg?v1" alt="Wellness and biohacking retreats" decoding="async">
                        </div>
                        <div class="pillar-body">
                            <div class="pillar-icon" aria-hidden="true"><i data-lucide="activity"></i></div>
                            <div class="pillar-copy">
                                <h3 data-editable="corporate.wellness.title">Wellness & Biohacking</h3>
                                <p data-editable="corporate.wellness.description">Executive performance meets longevity. Transform your leadership team through cutting-edge wellness protocols, Nordic cold therapy, and personalized biohacking experiences in pristine Swedish nature.</p>
                                <div class="card-buttons">
                                    <button type="button" class="read-more-btn" data-editable="corporate.wellness.read_more">Read More</button>
                                    <button type="button" class="pillar-cta" data-open-liv data-liv-context-type="corporate" data-liv-context-name="Wellness & Biohacking" data-corporate-slug="wellness-biohacking">Design With LIV</button>
                                </div>
                            </div>
                        </div>
                    </article>

                    <article class="pillar-card" data-pillar="incentive">
                        <div class="pillar-media" aria-hidden="true">
                            <img src="https://fjnfsabvuiyzuzfhxzcc.supabase.co/storage/v1/object/public/pillar-images/incentive.jpg?v1" alt="Creative team incentives" decoding="async">
                        </div>
                        <div class="pillar-body">
                            <div class="pillar-icon" aria-hidden="true"><i data-lucide="trophy"></i></div>
                            <div class="pillar-copy">
                                <h3 data-editable="corporate.incentive.title">Creative Incentives</h3>
                                <p data-editable="corporate.incentive.description">Reward your team with unforgettable experiences. Sailing races through the archipelago, gastronomy contests with Michelin chefs, design sprints in iconic studios, or adventure challenges in Lapland.</p>
                                <div class="card-buttons">
                                    <button type="button" class="read-more-btn" data-editable="corporate.incentive.read_more">Read More</button>
                                    <button type="button" class="pillar-cta" data-open-liv data-liv-context-type="corporate" data-liv-context-name="Creative Incentives">Design With LIV</button>
                                </div>
                            </div>
                        </div>
                    </article>
                </div>
            </div>
        </section>

        <section class="section" id="storytellers">
            <div class="section-inner">
                <div class="section-heading">
                    <span class="eyebrow" data-editable="stories.eyebrow">Featured Storytellers</span>
                    <h2 data-editable="stories.headline">Experience the World Beyond the Ordinary</h2>
                    <p data-editable="stories.description">Led by local storytellers — from underground curators and Michelin chefs to artists, designers, and cultural leaders — each encounter offers an authentic glimpse into life, culture, and creativity. Whether you travel solo or with others, our curated experiences promise meaningful connections and stories that stay with you long after the journey ends.</p>
                    <br />
                    <p data-editable="stories.subheadline">Need inspiration? Explore our curated selection of storytellers, destinations, and experiences for transformative journeys.</p>
                </div>

                <div class="pillars-grid" id="storytellersGrid">
                    <!-- Storytellers loaded dynamically from CMS -->
                </div>

                <div style="text-align: center; margin-top: 3rem;">
                    <a href="/storytellers/" class="story-cta-view-all" data-editable="storytellers.see_all">SEE ALL STORYTELLERS</a>
                </div>
            </div>
        </section>

        <section class="section" id="concierge">
            <div class="section-inner">
                <div class="dual-columns">
                    <div class="headline-block">
                        <span class="eyebrow" data-editable="concierge.eyebrow">AI CONCIERGE</span>
                        <h3 data-editable="concierge.headline">Your journey begins with Agent Henrik</h3>
                        <p data-editable="concierge.description">An AI-powered cultural curator embedded across the experience. Agent Henrik initiates your dialogue, sketches the first draft of your itinerary, and invites you to pass the narrative to our human curators for refinement.</p>
                        <div class="cta-group" style="margin-top:2rem;">
                            <a href="#" class="primary" data-open-liv data-liv-context-type="general" data-liv-context-name="LIV Concierge" data-editable="concierge.cta.design">Design With LIV</a>
                            <a href="#contact" data-editable="concierge.cta.talk">Talk to us</a>
                        </div>
                    </div>
                    <div class="accent-card liv-experience-card">
                        <h4 style="font-family: var(--font-serif); font-size: 1.4rem; margin-bottom:1rem;" data-editable="concierge.card.title">How Agent Henrik Works</h4>
                        <p style="font-style: italic; margin-bottom: 1.5rem; color: rgba(255,255,255,0.85);" data-editable="concierge.card.quote">"Tell me your vision—underground Tokyo, Beirut rooftops, Mediterranean sailing—and I'll compose your opening itinerary in moments."</p>
                        <ul>
                            <li><span data-editable="concierge.card.feature1.title">Global Curation</span><span data-editable="concierge.card.feature1.description">Agent Henrik weaves your preferences into narrative itineraries across six continents.</span></li>
                            <li><span data-editable="concierge.card.feature2.title">Instant Drafts</span><span data-editable="concierge.card.feature2.description">Receive a tailored itinerary preview within seconds, ready to refine or approve.</span></li>
                            <li><span data-editable="concierge.card.feature3.title">Seamless Handoff</span><span data-editable="concierge.card.feature3.description">Pass your draft to our human curators who add insider access and bespoke touches.</span></li>
                            <li><span data-editable="concierge.card.feature4.title">24-Hour Response</span><span data-editable="concierge.card.feature4.description">From first conversation to confirmed itinerary, we move at your pace.</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!--section class="section" id="sustainability">
            <div class="section-inner">
                <div class="dual-columns">
                    <div class="headline-block">
                        <span class="eyebrow">Sustainability &amp; Innovation</span>
                        <h3>Progressive luxury grounded in stewardship.</h3>
                        <p>We partner with regenerative destinations, future-food pioneers, and climate innovators to ensure every journey leaves a meaningful legacy. Expect transparent sourcing, carbon tracking, and design decisions rooted in Nordic sustainability principles.</p>
                    </div>
                    <div class="accent-card" style="background: linear-gradient(135deg, rgba(17,25,34,0.9), rgba(43,60,86,0.85));">
                        <ul>
                            <li><span>Impact Labs</span>Meet the founders advancing green tech, circular fashion, and climate-positive architecture.</li>
                            <li><span>Regenerative Villas</span>Stay at properties restoring forests, coastlines, and cultural landmarks.</li>
                            <li><span>Innovation Briefings</span>Curated sessions with policymakers, scientists, and creative futurists.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section-->

        <section class="section" id="stories">
            <div class="section-inner">
                <div class="section-heading">
                    <span class="eyebrow" data-editable="journal.eyebrow">Journal</span>
                    <h2 data-editable="journal.headline">Editorial previews from the Journal.</h2>
                    <p data-editable="journal.description">Editorial previews from our latest scoops.</p>
                </div>
                <div class="stories-grid" id="journalGrid">
                    <!-- Blog posts loaded dynamically from CMS -->
                </div>

                <div style="text-align: center; margin-top: 3rem;">
                    <a href="journal/" class="story-cta-view-all" data-editable="journal.see_all">SEE ALL JOURNAL POSTS</a>
                </div>
            </div>
        </section>

        <section class="section" id="press">
            <div class="section-inner">
                <div class="section-heading">
                    <span class="eyebrow" data-editable="press.eyebrow">Press &amp; Media</span>
                    <h2 data-editable="press.headline" style="white-space: nowrap;">What Media Says About Us</h2>
                    <p data-editable="press.description">Our work has been recognized by the world's leading voices in luxury and travel.</p>
                </div>
                <div class="press-panels" id="pressPanelsContainer">
                    <!-- Press panels loaded dynamically from database -->
                </div>
            </div>
        </section>

        <!-- Instagram flow -->
        <section class="section" id="instagram">
            <div class="section-inner">
                <div class="section-heading">
                    <span class="eyebrow" data-editable="instagram.eyebrow">Follow Our Discoveries</span>
                    <h2><a href="https://www.instagram.com/agenthenrik/" target="_blank" rel="noopener noreferrer" style="color: white !important; text-decoration: none !important; cursor: pointer;" data-editable="instagram.headline">@agenthenrik</a></h2>
                    <p data-editable="instagram.description"><a href="https://www.instagram.com/agenthenrik/" target="_blank" rel="noopener noreferrer">Follow us on Instagram</a></p>
                </div>
                <div class="instagram-grid" id="instagramGrid">
                    <!-- Loading state -->
                    <div class="instagram-loading">
                        <div class="loading-spinner"></div>
                        <p>Loading Instagram posts...</p>
                    </div>
                </div>
                <!-- StormLikes fallback embed (shown when no custom token) -->
                <div id="stormlikes-feed" style="display: none;"></div>
            </div>
        </section>

        <style>
            /* Instagram heading link styles */
            #instagram .section-heading h2 a {
                color: white !important;
                text-decoration: none !important;
                cursor: pointer;
                transition: opacity 0.3s ease;
            }

            #instagram .section-heading h2 a:hover {
                opacity: 0.8;
            }

            [data-theme="light"] #instagram .section-heading h2 a {
                color: #0a0c0e !important;
            }

            .instagram-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 1.5rem;
                margin-top: 3rem;
            }

            .instagram-card {
                position: relative;
                aspect-ratio: 1;
                overflow: hidden;
                border-radius: 8px;
                cursor: pointer;
                transition: transform 0.3s ease;
            }

            .instagram-card:hover {
                transform: scale(1.02);
            }

            .instagram-card img {
                width: 100%;
                height: 100%;
                object-fit: cover;
                display: block;
            }

            .instagram-title {
                position: absolute;
                bottom: 0;
                left: 0;
                right: 0;
                background: rgba(0, 0, 0, 0.8);
                color: white;
                padding: 1rem;
                font-size: 1rem;
                font-weight: 500;
                opacity: 0;
                transition: opacity 0.3s ease;
                pointer-events: none;
            }

            .instagram-card:hover .instagram-title {
                opacity: 1;
            }

            .instagram-loading {
                grid-column: 1 / -1;
                text-align: center;
                padding: 3rem 1rem;
                color: rgba(255, 255, 255, 0.6);
            }

            .loading-spinner {
                border: 3px solid rgba(255, 255, 255, 0.1);
                border-top: 3px solid #fff;
                border-radius: 50%;
                width: 40px;
                height: 40px;
                animation: spin 1s linear infinite;
                margin: 0 auto 1rem;
            }

            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }

            @media (max-width: 768px) {
                .instagram-grid {
                    grid-template-columns: repeat(2, 1fr);
                    gap: 1rem;
                }
            }

            @media (max-width: 480px) {
                .instagram-grid {
                    grid-template-columns: 1fr;
                }
            }

            /* StormLikes embed styling */
            #stormlikes-feed {
                margin-top: 3rem;
                width: 100%;
            }

            /* Override StormLikes default styles to match site design */
            /* Target the main container (first div child) */
            #stormlikes-feed > div:first-of-type {
                max-width: 100% !important;
                width: 100% !important;
                margin: 0 !important;
                padding: 0 !important;
                background-color: transparent !important;
                border-radius: 0 !important;
            }

            /* Hide profile header (image + username) */
            #stormlikes-feed > div > div:first-child {
                display: none !important;
            }

            /* Posts grid container */
            #stormlikes-feed > div > div:nth-child(2) {
                display: grid !important;
                grid-template-columns: repeat(3, 1fr) !important;
                gap: 1.5rem !important;
                margin: 0 !important;
            }

            /* Individual post links */
            #stormlikes-feed > div > div:nth-child(2) > a {
                position: relative !important;
                aspect-ratio: 1 !important;
                width: 100% !important;
                height: auto !important;
                padding-bottom: 0 !important;
                margin: 0 !important;
                border-radius: 8px !important;
                overflow: hidden !important;
                transition: transform 0.3s ease !important;
                flex: none !important;
            }

            #stormlikes-feed > div > div:nth-child(2) > a:hover {
                transform: scale(1.02) !important;
            }

            /* Hide attribution */
            #stormlikes-feed > div > p:last-child {
                display: none !important;
            }

            @media (max-width: 768px) {
                #stormlikes-feed > div > div:nth-child(2) {
                    grid-template-columns: repeat(2, 1fr) !important;
                    gap: 1rem !important;
                }
            }

            @media (max-width: 480px) {
                #stormlikes-feed > div > div:nth-child(2) {
                    grid-template-columns: 1fr !important;
                }
            }
        </style>

        <script>
            // Load Instagram posts
            async function loadInstagramPosts() {
                const grid = document.getElementById('instagramGrid');
                const stormlikesFeed = document.getElementById('stormlikes-feed');

                try {
                    const response = await fetch('https://fjnfsabvuiyzuzfhxzcc.supabase.co/functions/v1/fetch-instagram', {
                        headers: {
                            'Content-Type': 'application/json',
                        }
                    });

                    // If response is not OK or error status, use StormLikes
                    if (!response.ok) {
                        grid.style.display = 'none';
                        stormlikesFeed.style.display = 'block';
                        loadStormLikesScript();
                        return;
                    }

                    const data = await response.json();

                    if (data.error || !data.posts || data.posts.length === 0) {
                        // No custom token or no posts - use StormLikes fallback
                        grid.style.display = 'none';
                        stormlikesFeed.style.display = 'block';

                        // Load StormLikes embed script with theme-aware URL
                        loadStormLikesScript();
                        return;
                    }

                    // Has custom posts - show custom grid
                    const posts = data.posts;
                    grid.style.display = 'grid';
                    stormlikesFeed.style.display = 'none';

                    // Render posts
                    grid.innerHTML = posts.map(post => {
                        const caption = post.caption || '';
                        const title = caption.split('\\n')[0].substring(0, 50) + (caption.length > 50 ? '...' : '');

                        return `
                            <a href="${post.permalink}" target="_blank" rel="noopener noreferrer" class="instagram-card">
                                <img src="${post.media_url}" alt="${title}" loading="lazy">
                                <div class="instagram-title">${title || 'View on Instagram'}</div>
                            </a>
                        `;
                    }).join('');

                } catch (error) {
                    console.error('Error loading Instagram posts:', error);
                    // On error, use StormLikes fallback
                    grid.style.display = 'none';
                    stormlikesFeed.style.display = 'block';

                    // Load StormLikes embed script with theme-aware URL
                    loadStormLikesScript();
                }
            }

            // Load StormLikes script with current theme
            function loadStormLikesScript() {
                // Get current theme (check localStorage or system preference)
                const savedTheme = localStorage.getItem('theme');
                const systemTheme = window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark';
                const currentTheme = savedTheme || systemTheme;
                const isDark = currentTheme === 'dark';

                const stormlikesFeed = document.getElementById('stormlikes-feed');

                // Store current display state
                const currentDisplay = stormlikesFeed.style.display;

                // Remove existing script if present
                const existingScript = document.getElementById('stormlikes-script');
                if (existingScript) {
                    existingScript.remove();
                }

                // Clear the feed container to force reload (but keep children temporarily)
                const children = Array.from(stormlikesFeed.children);
                children.forEach(child => {
                    if (child.id !== 'stormlikes-script') {
                        child.remove();
                    }
                });

                // Load new script with correct dark parameter and append to the feed div
                const script = document.createElement('script');
                script.id = 'stormlikes-script';
                script.src = `https://stormlikes.com/js/embed.min.js?key=luxurytravelsweden&limit=3&dark=${isDark}&types=true`;
                script.crossOrigin = 'anonymous';
                script.async = true;

                // Append to the stormlikes-feed div instead of body
                stormlikesFeed.appendChild(script);

                // Restore display state
                stormlikesFeed.style.display = currentDisplay || 'block';
            }

            // Listen for theme changes and reload StormLikes if visible
            function handleThemeChange() {
                const stormlikesFeed = document.getElementById('stormlikes-feed');
                if (stormlikesFeed && stormlikesFeed.style.display !== 'none') {
                    loadStormLikesScript();
                }
            }

            // Watch for theme changes
            const observer = new MutationObserver((mutations) => {
                mutations.forEach((mutation) => {
                    if (mutation.attributeName === 'data-theme') {
                        handleThemeChange();
                    }
                });
            });

            // Start observing the document element for theme changes
            observer.observe(document.documentElement, {
                attributes: true,
                attributeFilter: ['data-theme']
            });

            // Also listen for system theme changes
            window.matchMedia('(prefers-color-scheme: light)').addEventListener('change', () => {
                if (!localStorage.getItem('theme')) {
                    handleThemeChange();
                }
            });

            // Load when page is ready
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', loadInstagramPosts);
            } else {
                loadInstagramPosts();
            }
        </script>

        <section class="section" id="contact">
            <div class="section-inner">
                <div class="dual-columns">
                    <div class="headline-block">
                        <span class="eyebrow" data-editable="contact.eyebrow">CONTACT</span>
                        <h3 data-editable="contact.headline">Ready to create your Swedish adventure?</h3>
                        <p data-editable="contact.description">Share your ambitions and we will reply within 24 hours with the next steps, schedule a call, or deliver a curated dossier. Every enquiry is handled by a personal curator, who will design a bespoke narrative just for you.</p>
                    </div>

                    <form class="enquiry-form" id="enquiryForm" novalidate>
                    <div class="form-grid">
                        <div class="form-field">
                            <label for="enquiryName" data-editable="contact.form.name_label">Name</label>
                            <input type="text" id="enquiryName" name="name" autocomplete="name" required placeholder="Your full name" data-editable-placeholder="contact.form.name_placeholder">
                        </div>
                        <div class="form-field">
                            <label for="enquiryEmail" data-editable="contact.form.email_label">Email</label>
                            <input type="email" id="enquiryEmail" name="email" autocomplete="email" required placeholder="name@example.com" data-editable-placeholder="contact.form.email_placeholder">
                        </div>
                        <div class="form-field">
                            <label for="enquiryPhone" data-editable="contact.form.phone_label">Phone / WhatsApp</label>
                            <input type="tel" id="enquiryPhone" name="phone" autocomplete="tel" placeholder="Optional contact number" data-editable-placeholder="contact.form.phone_placeholder">
                        </div>
                        <div class="form-field">
                            <label for="enquiryTripType" data-editable="contact.form.triptype_label">Trip Type</label>
                            <select id="enquiryTripType" name="tripType">
                                <option value="" selected data-editable="contact.form.triptype_select">Select</option>
                                <option value="FIT" data-editable="contact.form.triptype_fit">Private Journey (FIT)</option>
                                <option value="Corporate" data-editable="contact.form.triptype_corporate">Corporate &amp; Incentives</option>
                            </select>
                        </div>
                        <div class="form-field">
                            <label for="enquiryPeople" data-editable="contact.form.people_label">Number of people</label>
                            <input type="number" id="enquiryPeople" name="people" min="1" placeholder="e.g., 2" data-editable-placeholder="contact.form.people_placeholder">
                        </div>
                        <div class="form-field">
                            <label for="enquiryBudget" data-editable="contact.form.budget_label">Budget *</label>
                            <input type="text" id="enquiryBudget" name="budget" placeholder="Optional" data-editable-placeholder="contact.form.budget_placeholder">
                        </div>
                        <div class="form-field full">
                            <label for="enquiryDates" data-editable="contact.form.dates_label">Ideal Dates &amp; Duration</label>
                            <input type="text" id="enquiryDates" name="dates" placeholder="e.g., 7 nights in February 2026" data-editable-placeholder="contact.form.dates_placeholder">
                        </div>
                        <div class="form-field full">
                            <label for="enquiryDetails" data-editable="contact.form.details_label">Tell us about your ambitions</label>
                            <textarea id="enquiryDetails" name="details" placeholder="Themes, destinations, special access, or highlights to include." data-editable-placeholder="contact.form.details_placeholder"></textarea>
                        </div>
                    </div>

                    <input type="hidden" id="itineraryDraftField" name="itineraryDraft">
                    <input type="hidden" id="enquirySourceField" name="source" value="Direct">

                        <div class="form-actions">
                            <button type="submit" data-editable="contact.form.submit">Submit Enquiry</button>
                            <p class="form-status" id="enquiryStatus" role="status"></p>
                        </div>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer loaded from /components/footer.html -->
    <div id="footer-placeholder"></div>

    <!-- Chat Overlay -->
    <div class="chat-overlay" id="chatOverlay">
        <div class="chat-container">
            <button class="close-chat" id="closeChat">×</button>
            <div class="chat-header">
                <h2 class="chat-title">LIV</h2>
                <p class="chat-subtitle">Your Luxury Itinerary Visionary</p>
            </div>
            <div class="chat-messages" id="chatMessages">
                <div class="chat-message ai">
                    <p>Welcome. I’m LIV — Luxury Itinerary Visionary. Are you dreaming of silent forests, royal castles, wild parties, or encounters with innovators?</p>
                </div>
            </div>
            <div class="chat-input-container">
                <input type="text" class="chat-input" id="chatInput" placeholder="Share your travel desires...">
                <button class="send-button" id="sendButton">Send</button>
            </div>
        </div>
    </div>

    <!-- External JavaScript -->
    <script defer src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- Supabase JS Client -->
    <script defer src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <!-- Our Supabase Client Wrapper (loads data automatically) -->
    <script defer src="supabase-client.js?v=3"></script>

    <!-- LIV AI - AI-Powered Chat Concierge -->
    <script defer src="liv-ai.js?v=10"></script>

    <!-- Main application scripts (uses data loaded by supabase-client.js) -->
    <script defer src="scripts.js?v=1733150022"></script>

    <!-- Menu Initialization - Simple, reliable menu system -->
    <script defer src="menu-init.js"></script>

    <!-- Inline Editor (allows authenticated clients to edit static content) -->
    <script defer src="inline-editor.js?v=3"></script>

    <!-- Service Worker Registration for Image Caching -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js')
                    .then(registration => {
                        console.log('Service Worker registered successfully:', registration.scope);

                        // Handle updates
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            console.log('Service Worker update found');

                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    console.log('New Service Worker available. Refresh to update.');
                                    // Auto-activate new service worker
                                    newWorker.postMessage({ type: 'SKIP_WAITING' });
                                }
                            });
                        });
                    })
                    .catch(error => {
                        console.log('Service Worker registration failed:', error);
                    });

                // Refresh page when new service worker takes control
                navigator.serviceWorker.addEventListener('controllerchange', () => {
                    console.log('Service Worker updated, reloading page...');
                    window.location.reload();
                });
            });
        }
    </script>

    <!-- LIV Concierge Button - Positioned at top of DOM hierarchy -->
    <div class="ai-concierge-wrapper">
        <button class="ai-concierge-btn" id="aiConciergeBtn" aria-label="Launch LIV concierge - AI travel curator" data-open-liv data-liv-context-type="general" data-liv-context-name="AI Concierge Button">
            ✦
        </button>
    </div>

    <!-- Pillar Modal -->
    <div id="pillarModal" class="pillar-modal" role="dialog" aria-modal="true" aria-labelledby="modal-title" style="display: none;">
        <div class="pillar-modal-overlay"></div>
        <div class="pillar-modal-container">
            <button type="button" class="pillar-modal-close" aria-label="Close modal">&times;</button>
            <div class="pillar-modal-content">
                <div class="pillar-modal-media">
                    <img id="modal-image" src="" alt="">
                </div>
                <div class="pillar-modal-body">
                    <h2 id="modal-title"></h2>
                    <div id="modal-description"></div>
                    <button type="button" class="pillar-cta" id="modal-cta" data-open-liv></button>
                    <button type="button" class="pillar-cta pillar-cta-secondary" id="modal-map-btn" style="display: none; margin-top: 10px;">View on Map</button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
